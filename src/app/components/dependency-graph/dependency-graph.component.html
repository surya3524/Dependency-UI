<div class="dependency-graph-container">
  <div class="graph-header">
    <h2>Dependency Graph</h2>
    <div class="graph-controls">
      <button (click)="resetZoom()" class="control-btn" title="Reset Zoom">
        🔍
      </button>
      <button (click)="centerGraph()" class="control-btn" title="Center Graph">
        🎯
      </button>
      <button (click)="exportGraph()" class="control-btn" title="Export Graph">
        💾
      </button>
    </div>
  </div>

  <div class="graph-legend">
    <div class="legend-section">
      <h4>Service Types</h4>
      <div class="legend-items">
        <div class="legend-item">
          <span class="legend-icon">☕</span>
          <span>Java App</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">🔷</span>
          <span>.NET App</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">🅰️</span>
          <span>Angular App</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">🗄️</span>
          <span>Database</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">🔌</span>
          <span>API</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">📨</span>
          <span>Queue</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon">🌐</span>
          <span>External</span>
        </div>
      </div>
    </div>

    <div class="legend-section">
      <h4>Dependency Types</h4>
      <div class="legend-items">
        <div class="legend-item">
          <div class="legend-line" style="background-color: #667eea;"></div>
          <span>HTTP Request</span>
        </div>
        <div class="legend-item">
          <div class="legend-line" style="background-color: #48bb78;"></div>
          <span>Database Query</span>
        </div>
        <div class="legend-item">
          <div class="legend-line" style="background-color: #ed8936;"></div>
          <span>Message Queue</span>
        </div>
        <div class="legend-item">
          <div class="legend-line" style="background-color: #9f7aea;"></div>
          <span>File System</span>
        </div>
        <div class="legend-item">
          <div class="legend-line" style="background-color: #f56565;"></div>
          <span>API Call</span>
        </div>
        <div class="legend-item">
          <div class="legend-line" style="background-color: #4299e1;"></div>
          <span>Direct Dependency</span>
        </div>
      </div>
    </div>

    <div class="legend-section">
      <h4>Status</h4>
      <div class="legend-items">
        <div class="legend-item">
          <div class="legend-status" style="background-color: #48bb78;"></div>
          <span>Active</span>
        </div>
        <div class="legend-item">
          <div class="legend-status" style="background-color: #f56565;"></div>
          <span>Inactive</span>
        </div>
        <div class="legend-item">
          <div class="legend-status" style="background-color: #ed8936;"></div>
          <span>Deprecated</span>
        </div>
        <div class="legend-item">
          <div class="legend-status" style="background-color: #a0aec0;"></div>
          <span>Unknown</span>
        </div>
      </div>
    </div>
  </div>

  <div class="graph-wrapper">
    <div #graphContainer class="graph-container"></div>
  </div>

  <div class="graph-info">
    <div class="info-item">
      <span class="info-label">Nodes:</span>
      <span class="info-value">{{ nodes.length }}</span>
    </div>
    <div class="info-item">
      <span class="info-label">Connections:</span>
      <span class="info-value">{{ links.length }}</span>
    </div>
    <div class="info-item">
      <span class="info-label">Instructions:</span>
      <span class="info-value">Drag nodes to move them, scroll to zoom</span>
    </div>
  </div>
</div>
